<!DOCTYPE html>
<html>
<head>
<title>api</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<style type="text/css">
/* GitHub stylesheet for MarkdownPad (http://markdownpad.com) */
/* Author: Nicolas Hery - http://nicolashery.com */
/* Version: b13fe65ca28d2e568c6ed5d7f06581183df8f2ff */
/* Source: https://github.com/nicolahery/markdownpad-github */

/* RESET
=============================================================================*/

html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td, article, aside, canvas, details, embed, figure, figcaption, footer, header, hgroup, menu, nav, output, ruby, section, summary, time, mark, audio, video {
  margin: 0;
  padding: 0;
  border: 0;
}

/* BODY
=============================================================================*/

body {
  font-family: Helvetica, arial, freesans, clean, sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: #333;
  background-color: #fff;
  padding: 20px;
  max-width: 960px;
  margin: 0 auto;
}

body>*:first-child {
  margin-top: 0 !important;
}

body>*:last-child {
  margin-bottom: 0 !important;
}

/* BLOCKS
=============================================================================*/

p, blockquote, ul, ol, dl, table, pre {
  margin: 15px 0;
}

/* HEADERS
=============================================================================*/

h1, h2, h3, h4, h5, h6 {
  margin: 20px 0 10px;
  padding: 0;
  font-weight: bold;
  -webkit-font-smoothing: antialiased;
}

h1 tt, h1 code, h2 tt, h2 code, h3 tt, h3 code, h4 tt, h4 code, h5 tt, h5 code, h6 tt, h6 code {
  font-size: inherit;
}

h1 {
  font-size: 28px;
  color: #000;
}

h2 {
  font-size: 24px;
  border-bottom: 1px solid #ccc;
  color: #000;
}

h3 {
  font-size: 18px;
}

h4 {
  font-size: 16px;
}

h5 {
  font-size: 14px;
}

h6 {
  color: #777;
  font-size: 14px;
}

body>h2:first-child, body>h1:first-child, body>h1:first-child+h2, body>h3:first-child, body>h4:first-child, body>h5:first-child, body>h6:first-child {
  margin-top: 0;
  padding-top: 0;
}

a:first-child h1, a:first-child h2, a:first-child h3, a:first-child h4, a:first-child h5, a:first-child h6 {
  margin-top: 0;
  padding-top: 0;
}

h1+p, h2+p, h3+p, h4+p, h5+p, h6+p {
  margin-top: 10px;
}

/* LINKS
=============================================================================*/

a {
  color: #4183C4;
  text-decoration: none;
}

a:hover {
  text-decoration: underline;
}

/* LISTS
=============================================================================*/

ul, ol {
  padding-left: 30px;
}

ul li > :first-child, 
ol li > :first-child, 
ul li ul:first-of-type, 
ol li ol:first-of-type, 
ul li ol:first-of-type, 
ol li ul:first-of-type {
  margin-top: 0px;
}

ul ul, ul ol, ol ol, ol ul {
  margin-bottom: 0;
}

dl {
  padding: 0;
}

dl dt {
  font-size: 14px;
  font-weight: bold;
  font-style: italic;
  padding: 0;
  margin: 15px 0 5px;
}

dl dt:first-child {
  padding: 0;
}

dl dt>:first-child {
  margin-top: 0px;
}

dl dt>:last-child {
  margin-bottom: 0px;
}

dl dd {
  margin: 0 0 15px;
  padding: 0 15px;
}

dl dd>:first-child {
  margin-top: 0px;
}

dl dd>:last-child {
  margin-bottom: 0px;
}

/* CODE
=============================================================================*/

pre, code, tt {
  font-size: 12px;
  font-family: Consolas, "Liberation Mono", Courier, monospace;
}

code, tt {
  margin: 0 0px;
  padding: 0px 0px;
  white-space: nowrap;
  border: 1px solid #eaeaea;
  background-color: #f8f8f8;
  border-radius: 3px;
}

pre>code {
  margin: 0;
  padding: 0;
  white-space: pre;
  border: none;
  background: transparent;
}

pre {
  background-color: #f8f8f8;
  border: 1px solid #ccc;
  font-size: 13px;
  line-height: 19px;
  overflow: auto;
  padding: 6px 10px;
  border-radius: 3px;
}

pre code, pre tt {
  background-color: transparent;
  border: none;
}

kbd {
    -moz-border-bottom-colors: none;
    -moz-border-left-colors: none;
    -moz-border-right-colors: none;
    -moz-border-top-colors: none;
    background-color: #DDDDDD;
    background-image: linear-gradient(#F1F1F1, #DDDDDD);
    background-repeat: repeat-x;
    border-color: #DDDDDD #CCCCCC #CCCCCC #DDDDDD;
    border-image: none;
    border-radius: 2px 2px 2px 2px;
    border-style: solid;
    border-width: 1px;
    font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
    line-height: 10px;
    padding: 1px 4px;
}

/* QUOTES
=============================================================================*/

blockquote {
  border-left: 4px solid #DDD;
  padding: 0 15px;
  color: #777;
}

blockquote>:first-child {
  margin-top: 0px;
}

blockquote>:last-child {
  margin-bottom: 0px;
}

/* HORIZONTAL RULES
=============================================================================*/

hr {
  clear: both;
  margin: 15px 0;
  height: 0px;
  overflow: hidden;
  border: none;
  background: transparent;
  border-bottom: 4px solid #ddd;
  padding: 0;
}

/* TABLES
=============================================================================*/

table th {
  font-weight: bold;
}

table th, table td {
  border: 1px solid #ccc;
  padding: 6px 13px;
}

table tr {
  border-top: 1px solid #ccc;
  background-color: #fff;
}

table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

/* IMAGES
=============================================================================*/

img {
  max-width: 100%
}
</style>
</head>
<body>
<h1>SAPIS Javascript Library API</h1>
<p><em>—— Warren</em> in <em>2015-8-18</em></p>
<p>基于：</p>
<ul>
<li>jQuery</li>
<li><a href="http://semantic-ui.com/">Semantic UI</a></li>
<li><a href="http://xdsoft.net/jqplugins/datetimepicker/">jquery.datatimepicker</a></li>
</ul>
<p>支持 Chrome 40.0+</p>
<p>&nbsp;</p>
<h2>sys</h2>
<h3>app.checkRE()</h3>
<ul>
<li><strong>说明：</strong> 检测浏览器，默认检测是否为 chrome，且版本不低于40+。</li>
<li><strong>参数：</strong> 无</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.checkRE();
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>cookie</h2>
<h3>app.cookie.set()</h3>
<ul>
<li><strong>说明：</strong> 以键值对形式设置一个或多个 cookie 项。</li>
<li>
<strong>参数：</strong> param（object，键值对）
<ul>
<li>key:value</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.cookie.set({
    key:value,
    ...
});
</code></pre>

</li>
</ul>
<h3>app.cookie.removeAll()</h3>
<ul>
<li><strong>说明：</strong> 清除所有本 app 相关的 cookie。</li>
<li><strong>参数：</strong> 无</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.cookie.removeAll();
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>ajax</h2>
<h3>app.ajax()</h3>
<ul>
<li><strong>说明：</strong> 对 jQuery 的 ajax 方法的封装。</li>
<li>
<strong>参数：</strong> opts（object，配置参数），callback（function）
<ul>
<li>
<strong>opts</strong>：配置参数
<ul>
<li>url：ajax请求地址，必选</li>
<li>data：请求参数，object</li>
<li>dataType：请求类型，默认 'json'</li>
<li>type：默认POST</li>
<li>bufferContext：缓冲UI出现位置的上下文选择器，默认 'body'</li>
<li>bufferMsg：缓冲UI中的提示文本，默认 '处理中'</li>
</ul>
</li>
<li><strong>callback</strong>：请求成功后的回调</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ajax({
    url:'/action/do',
    data:{
        id:11,
        action:'delete'
    }
});
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>初始化</h2>
<h3>app.ui.init()</h3>
<ul>
<li><strong>说明：</strong> 初始化应用，通常将前端框架（如 Semantic-UI）的组件初始化方法放在这里。慎用，除非页面或模块重载，否则避免重复调用。</li>
<li><strong>参数：</strong> 无</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>$(function(){
    app.ui.init();
});
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>app.ui.buffer</h2>
<p>执行缓冲 UI，也就是Loading，对 ajax 等需要用户长时间等待响应的操作给予反馈。</p>
<h3>app.ui.buffer.show()</h3>
<ul>
<li><strong>说明：</strong> 显示 buffer，并返回该 buffer DOM对象。</li>
<li>
<strong>参数：</strong> opts（object，配置参数，可选）
<ul>
<li>
<strong>opts</strong>
<ul>
<li>context：上下文选择器，用来确定 buffer 覆盖范围，默认 'body'</li>
<li>msg：提示文本的内容，默认 '处理中'</li>
<li>size：尺寸，默认值 'medium'，可选值有：mini、small、medium、large</li>
<li>opacity：遮罩层透明度设置，默认值0.7</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>var buffer=app.ui.buffer.show({
    context:'.container',
    msg:'读取中'
});
</code></pre>

</li>
</ul>
<h3>app.ui.buffer.hide()</h3>
<ul>
<li><strong>说明：</strong> 隐藏 buffer 对象。</li>
<li><strong>参数：</strong> obj（由app.ui.buffer.show() 返回的 buffer 对象）</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>var buffer=app.ui.buffer.show();
app.ui.buffer.hide(buffer);
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>导航</h2>
<h3>app.ui.navigBuild()</h3>
<ul>
<li><strong>说明：</strong> 生成导航（左侧一二级 menu，右侧三级 tabs），通常在页面载入时调用一次。慎用，无需重复调用。</li>
<li><strong>参数：</strong> data（菜单数据，数组形式，详细见 config.js中的模拟菜单数据）</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ui.navigBuild(data);
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>模块加载</h2>
<h3>app.ui.loadModule()</h3>
<ul>
<li><strong>说明：</strong> 读取模块内容。</li>
<li>
<strong>参数：</strong> opts（object，配置参数）
<ul>
<li>
<strong>opts</strong>
<ul>
<li>obj：指定内容注入的目标选择器，被读出的内容将注入其中，在注入前会清空其中的内容，必选</li>
<li>href：请求内容的地址，必选</li>
<li>bufferContext：缓冲UI的上下文选择器，默认 'body'，慎用</li>
<li>scrollToTop：载入前是否将载体滚动到顶部，默认 true</li>
<li>success：成功后的回调，function</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ui.loadModule({
    obj:'.moduleWrapper',
    href:'/module/demo.html',
    success:function(){
        alert('success!');
    }
});
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>模态弹窗</h2>
<h3>app.ui.confirm()</h3>
<ul>
<li><strong>说明：</strong> 确认弹窗。</li>
<li>
<strong>参数：</strong> opts（object，配置参数）
<ul>
<li>
<strong>opts</strong>
<ul>
<li>title：弹窗标题，默认 '确认'</li>
<li>msg：提示文本</li>
<li>icon：图标名称，默认 'help'</li>
<li>buttons：array，按钮的 html，将会被插入到 actions 层</li>
<li>onApprove：function，点击 approve（同意、是） 类型按钮后的回调</li>
<li>onDeny：function，点击 deny（拒绝、否） 类型按钮后的回调</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ui.confirm({
    title:'是否删除',
    msg:'您是否要删除本条数据？',
    onApprove:function(){
        delete();
    }
});
</code></pre>

</li>
</ul>
<h3>app.ui.alert()</h3>
<ul>
<li><strong>说明：</strong> 提示弹窗。</li>
<li><strong>参数：</strong> opts（object），说明参照 app.ui.confirm()</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ui.alert({
    icon:'warning',
    msg:'您有三条未读的短消息！'
});
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>对话框</h2>
<h3>app.ui.dialog()</h3>
<ul>
<li><strong>说明：</strong> 初始化对话框，并显示，返回该对话框 DOM对象。对话框内容包括标题、按钮事先都在 html 中书写好，html 结构参考相关页面。</li>
<li>
<strong>参数：</strong> obj（对象选择器，建议用id），opts（object，配置参数）
<ul>
<li>
<strong>opts</strong>
<ul>
<li>
style：
<ul>
<li>basic：窗体样式，默认 'small'，可选参数：'small'、'large'、'fullscreen'</li>
</ul>
</li>
<li>closeBtn：是否显示右上角关闭按钮，默认 true</li>
<li>closeable：点击遮罩层是否关闭，默认 false</li>
<li>blurring：遮罩层是否高斯模糊，默认false</li>
<li>
dimmersettings：
<ul>
<li>opacity：遮罩层透明度，默认0.6</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ui.dialog('#dialog',{
    style:{
        basic:'fullscreen'
    }
});
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>消息</h2>
<h3>app.ui.message()</h3>
<ul>
<li><strong>说明：</strong> 显示一个消息层。</li>
<li>
<strong>参数：</strong>
<ul>
<li>
<strong>opts</strong>
<ul>
<li>type：消息类型，默认 'info'，可选值有：'success'、'info'、'warning'、'error'</li>
<li>size：尺寸，默认 'small'</li>
<li>msg：消息内容文本</li>
<li>closeBtn：是否显示关闭按钮，默认 true</li>
<li>icon：图标名称，默认 'smile'</li>
<li>context：消息层出现位置的上下文</li>
<li>autoHide：自动关闭时间，如4000，表示4秒后关闭，默认 false</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ui.message({
    msg:'成功啦！',
    closeBtn:false,
    autoHide:3000
});
</code></pre>

</li>
</ul>
<p>&nbsp;</p>
<h2>Angular</h2>
<h3>app.ui.ngInit(opts)</h3>
<ul>
<li><strong>说明：</strong> 初始化指定 html，多用在对 jQuery 动态加载的 html 做 ng 初始化，是业务模块必须的，通常在业务模块 js 的最后调用一次。</li>
<li>
<strong>参数：</strong>
<ul>
<li>
<strong>opts</strong>
<ul>
<li>obj：DOM 对象</li>
<li>ngModule：ng 模块名,字符串</li>
<li>uiInit：初始化 ui 控件（如 datapicker 等），部分控件设置参数需要等待domready后回调，所以有了这个参数</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>示例：</strong></p>
<pre><code>app.ui.ngInit({
    obj: $('#contents'),
    ngModule: 'app',
    uiInit: function(){
        $('.ui-datapicker').datetimepicker({
            format:'Y'
        });
    }
});
</code></pre>

</li>
</ul>

</body>
</html>
<!-- This document was created with MarkdownPad, the Markdown editor for Windows (http://markdownpad.com) -->
